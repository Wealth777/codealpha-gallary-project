<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PixHaven | Sign In</title>
        <link rel="stylesheet" href="auth.css">
        <link rel="icon"
            href="./generative-ai-logo-artificial-intelligence-icon-symbol-vector-illustrationhgh_838872-2065.jpg"
            type="image/jpeg">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    </head>

    <body>
        <div class="auth-container">
            <div class="auth-box">
                <h1>Welcome Back ðŸ‘‹</h1>
                <p class="subtitle">Sign in to continue to
                    <strong>PixHaven</strong>
                </p>

                <form class="auth-form">
                    <input type="email" placeholder="Email Address" required>
                    <input type="password" placeholder="Password" required>
                    <button class="btn"><span class="sign">Sign
                            In</span></button>
                </form>

                <div class="divider">or continue with</div>

                <div class="social-login">
                    <button class="social-btn google" onclick="withGoogle()"><i
                            class="fab fa-google"></i> Google</button>
                    <button class="social-btn github" onclick="withGit()"><i
                            class="fab fa-github"></i> GitHub</button>
                    <button class="social-btn phone" onclick="photo()"><i class="fa fa-phone"></i>
                        <a  href="./phone-signin.html">Phone</a></button>
                    <button class="social-btn apple"><i
                            class="fab fa-apple"></i> Apple ID</button>
                </div>

                <p class="switch">Don't have an account? <a
                        href="signup.html">Sign Up</a></p>
            </div>
        </div>

        <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, GithubAuthProvider } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAZeXRLtizNVxoROHfCWwYFZYzCrrHUVjs",
            authDomain: "pixhaven-gallary.firebaseapp.com",
            projectId: "pixhaven-gallary",
            storageBucket: "pixhaven-gallary.firebasestorage.app",
            messagingSenderId: "22248391827",
            appId: "1:22248391827:web:d6617252875deab4da3966"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
        const gitProvider = new GithubAuthProvider();

        window.withGoogle = async function () {
            {
                signInWithPopup(auth, provider)
                    .then((result) => {
                        // This gives you a Google Access Token. You can use it to access the Google API.
                        const credential = GoogleAuthProvider.credentialFromResult(result);
                        const token = credential.accessToken;
                        // The signed-in user info.
                        const user = result.user;

                        const userInfo = [
                            {
                                uid: user.uid,
                                name: user.displayName,
                                email: user.email,
                                phote: user.photoURL
                            }
                        ]

                        console.log(userInfo)

                    }).catch((error) => {
                        // Handle Errors here.
                        const errorCode = error.code;
                        const errorMessage = error.message;

                        console.log(errorCode)
                        console.log(errorMessage)
                    });
            }
        }

        window.withGit = async function () {
            try {
                const result = await signInWithPopup(auth, gitProvider);
                const user = result.user;

                const userInfo = [
                    {
                        uid: user.uid,
                        name: user.displayName,
                        email: user.email,
                        phote: user.photoURL
                    }
                ]
                console.log(userInfo);


            } catch (error) {
                console.log(error.code);
                console.log(error.message);
            }
        }

        window.photo = async function(){
            window.location.href = "./phone-signin.html"
        }
    </script>
    </body>

</html>